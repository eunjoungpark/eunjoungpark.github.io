(window["webpackJsonppreorder-coffee"]=window["webpackJsonppreorder-coffee"]||[]).push([[12],{141:function(e,n,t){"use strict";t.r(n);var a=t(20),c=t(11),l=t(0),o=t.n(l),r=t(28),s=t(15),i=t(7),d=t(10),u=t(24),m=t(33),p=t.n(m);function b(){var e=Object(c.a)(["\n  position: relative;\n  input {\n    position: absolute;\n    z-index: -1;\n  }\n  label {\n    padding-left: 25px;\n    &:before {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 14px;\n      height: 14px;\n      z-index: 1;\n      border: 2px solid #d9b391;\n    }\n    &.checked:after {\n      position: absolute;\n      top: 3px;\n      left: 3px;\n      content: '';\n      width: 9px;\n      height: 6px;\n      transform: rotate(-47deg);\n      border-left: 3px solid #8c6046;\n      border-bottom: 3px solid #8c6046;\n      z-index: 2;\n    }\n  }\n"]);return b=function(){return e},e}var f=d.b.fieldset(b());f.propTypes={id:p.a.string,label:p.a.string,legend:p.a.string,checked:p.a.bool,className:p.a.string,onClick:p.a.func};var h=o.a.memo(function(e){var n=e.id,t=e.label,a=e.checked,c=e.legend,l=e.className,r=e.onClick;return o.a.createElement(f,{className:l},o.a.createElement("legend",{className:"hidden"},c),o.a.createElement("input",{type:"checkbox",id:n,name:n,defaultChecked:a,onClick:r}),o.a.createElement("label",{htmlFor:n,className:a?"checked":""},t))}),k=t(59),x=t(41),g=t(42),E=t(43),O=t(46),j=t(25),N=t(31),v=t(47),y=t(9);function w(){var e=Object(c.a)(["\n  padding: 40px;\n  color: #666;\n  text-align: center;\n  font-size: 16px;\n"]);return w=function(){return e},e}function C(){var e=Object(c.a)(["\n  padding-bottom: 220px;\n  .allChk {\n    width: 100%;\n    padding-bottom: 10px;\n    border-bottom: 1px solid #260f07;\n  }\n  .payBox {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    padding: 20px;\n    background-color: #260f07;\n    z-index: 5;\n    .inn {\n      padding: 20px 10px;\n      background-color: #fff;\n      border-radius: 5px;\n      .sumBox {\n        margin-bottom: 20px;\n        padding: 0 10px 10px;\n        border-bottom: 1px solid #260f07;\n        font-size: 18px;\n        .sum {\n          color: #8c6046;\n          float: right;\n        }\n      }\n      .store {\n        text-align: center;\n        line-height: 1.5;\n        font-size: 14px;\n        a {\n          display: inline-block;\n          padding: 3px 5px;\n          margin: -5px 0 0 10px;\n          font-size: 14px;\n          vertical-align: middle;\n          border-radius: 3px;\n          background-color: #d9b391;\n          line-height: 1;\n        }\n      }\n      button {\n        margin-top: 20px;\n      }\n    }\n  }\n  .list {\n    > li {\n      position: relative;\n      padding: 15px;\n      &:nth-child(even) {\n        background-color: #ededed;\n      }\n      fieldset {\n        margin-bottom: 10px;\n      }\n      .options {\n        padding-left: 25px;\n        li {\n          margin: 10px 0;\n          font-size: 14px;\n          color: #8c6046;\n          .option {\n            float: left;\n          }\n          .extra {\n            float: right;\n          }\n        }\n      }\n      .total {\n        margin-top: 20px;\n        text-align: right;\n        color: #260f07;\n      }\n      .removeBtn {\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        color: #260f07;\n      }\n    }\n  }\n"]);return C=function(){return e},e}var I=d.b.div(C()),z=d.b.div(w()),T={updateWishList:N.j,checkedWish:N.e,removeWish:N.i,addOrderList:v.c,emptyLoading:y.b};n.default=Object(r.b)(function(e){var n=e.wish,t=e.auth,a=e.store,c=e.loadings;return{wish:n,auth:t,loadingWish:c[N.c],loadingRemoveWish:c[N.b],loadingAddOrder:c[v.a],selected:a.selected}},T)(function(e){var n=e.wish,t=e.auth,c=e.selected,r=e.loadingWish,d=e.addOrderList,m=e.updateWishList,p=e.checkedWish,b=e.removeWish,f=e.loadingRemoveWish,y=e.loadingAddOrder,w=e.emptyLoading,C=e.history,T=Object(l.useState)(0),W=Object(a.a)(T,2),S=W[0],B=W[1],L=Object(l.useState)(0),A=Object(a.a)(L,2),D=A[0],F=A[1],J=Object(l.useState)(!0),R=Object(a.a)(J,2),H=R[0],q=R[1],G=Object(l.useState)(""),K=Object(a.a)(G,2),M=K[0],P=K[1],Q=Object(l.useState)(!0),U=Object(a.a)(Q,2),V=U[0],X=U[1],Y=Object(l.useState)(!1),Z=Object(a.a)(Y,2),$=Z[0],_=Z[1];Object(l.useEffect)(function(){null===t.localId&&C.push("/")},[t.localId,C]),Object(l.useEffect)(function(){var e=0,t=0;n&&(Object(O.c)(Object(O.b)(Object(O.a)(n),function(e){return!0===e.checked}),function(n){e+=n.total,t+=1}),q(Object.keys(n).every(function(e){return!0===n[e].checked}))),B(e),F(t)},[n]),Object(l.useEffect)(function(){!1===y&&(X(!1),_(!1),P("\uc8fc\ubb38 \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4."),n&&Object(O.c)(Object(O.b)(Object(O.a)(n),function(e){return!0===e.checked}),function(e){b({token:t.idToken,userId:t.localId,id:e.key})}))},[n,y,b,t.idToken,t.localId]),Object(l.useEffect)(function(){$&&!1===f&&(X(!1),P("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."))},[f,$]),Object(l.useEffect)(function(){return function(){w(N.c),w(N.b),w(v.a)}},[w]);var ee=Object(l.useCallback)(function(){m({token:t.idToken,userId:t.localId,wish:Object(i.a)(n,function(e){Object.keys(e).forEach(function(n){e[n].checked=!H})})}),q(!H)},[n,t.idToken,t.localId,H,m]),ne=Object(l.useCallback)(function(e,a){p({token:t.idToken,userId:t.localId,id:e,wish:Object(i.a)(n[e],function(e){e.checked=!a})})},[n,t.idToken,t.localId,p]),te=Object(l.useCallback)(function(e){b({token:t.idToken,userId:t.localId,id:e}),_(!0)},[t.idToken,t.localId,b]),ae=Object(l.useCallback)(function(e){if(e.preventDefault(),c){if(n){var a=n[Object.keys(n)[0]];d({token:t.idToken,userId:t.localId,order:{contents:(""!==a.nickname?a.nickname:a.ko)+(D>1?" \uc678 ".concat(D-1,"\uc794"):" 1\uc794"),total:S,store:c,date:(new Date).getTime()}})}}else X(!1),P("\uc8fc\ubb38\ud558\uc2e4 \ub9e4\uc7a5\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")},[n,t.idToken,t.localId,c,S,D,d]),ce=Object(l.useCallback)(function(){P(""),X(!V)},[V]),le=o.a.createElement(z,null,"\uc8fc\ubb38\ud558\uc2e4 \uc74c\ub8cc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");return n&&(le=o.a.createElement("form",{onSubmit:ae},o.a.createElement(h,{id:"allCheck",label:"\uc804\uccb4\uc74c\ub8cc",legend:"\uc704\uc2dc\ub9ac\uc2a4\ud2b8\uc5d0 \ubaa8\ub4e0\uc74c\ub8cc \uc8fc\ubb38\uc120\ud0dd",onClick:ee,checked:H,className:"allChk"}),o.a.createElement("ol",{className:"list"},Object.keys(n).map(function(e){return o.a.createElement("li",{key:e},o.a.createElement(h,{id:e,label:""!==n[e].nickname?n[e].nickname:n[e].ko,legend:"".concat(n[e].ko," \uc120\ud0dd\ud558\uae30"),checked:n[e].checked,style:{background:n[e].checked?"red":""},onClick:function(){return ne(e,n[e].checked)}}),o.a.createElement("ul",{className:"options"},o.a.createElement("li",{className:"clear"},o.a.createElement("span",{className:"option"},j.v[n[e].type],"/",n[e].size,"/",j.a[n[e].cup]),o.a.createElement("span",{className:"extra"},Object(O.f)(n[e].price),"\uc6d0")),n[e].shot.count>0&&o.a.createElement("li",{className:"clear"},o.a.createElement("span",{className:"option"},"\uc5d0\uc2a4\ud504\ub808\uc18c"),o.a.createElement("span",{className:"extra"},Object(O.f)(n[e].shot.count*n[e].shot.extra),"\uc6d0")),n[e].syrup.mocha.count>0&&o.a.createElement("li",{className:"clear"},o.a.createElement("span",{className:"option"},"\ubaa8\uce74 \uc2dc\ub7fd"),o.a.createElement("span",{className:"extra"},Object(O.f)(n[e].syrup.mocha.count*n[e].syrup.mocha.extra),"\uc6d0")),n[e].syrup.hazelnut.count>0&&o.a.createElement("li",{className:"clear"},o.a.createElement("span",{className:"option"},"\ud5e4\uc774\uc990\ub11b \uc2dc\ub7fd"),o.a.createElement("span",{className:"extra"},Object(O.f)(n[e].syrup.hazelnut.count*n[e].syrup.hazelnut.extra),"\uc6d0")),n[e].syrup.caramel.count>0&&o.a.createElement("li",{className:"clear"},o.a.createElement("span",{className:"option"},"\uce74\ub77c\uba5c \uc2dc\ub7fd"),o.a.createElement("span",{className:"extra"},Object(O.f)(n[e].syrup.caramel.count*n[e].syrup.caramel.extra),"\uc6d0")),n[e].syrup.vanilla.count>0&&o.a.createElement("li",{className:"clear"},o.a.createElement("span",{className:"option"},"\ubc14\ub2d0\ub77c \uc2dc\ub7fd"),o.a.createElement("span",{className:"extra"},Object(O.f)(n[e].syrup.vanilla.count*n[e].syrup.vanilla.extra),"\uc6d0")),Object.keys(n[e].messages).map(function(t){return""!==n[e].messages[t]&&"cup shot size mocha hazelnut caramel vanilla".indexOf(t)<0&&o.a.createElement("li",{key:t,className:"clear"},o.a.createElement("span",{className:"option"},n[e].messages[t]),o.a.createElement("span",{className:"extra"},"0\uc6d0"))})),o.a.createElement("p",{className:"total"},Object(O.f)(n[e].total),"\uc6d0"),o.a.createElement(x.a,{kind:"blank",className:"removeBtn",onClick:function(){return te(e)}},o.a.createElement(E.a,null)))})),o.a.createElement("div",{className:"payBox"},o.a.createElement("div",{className:"inn"},o.a.createElement("p",{className:"sumBox"},"\ucd1d ",D,"\uac1c",o.a.createElement("span",{className:"sum"},Object(O.f)(S),"\uc6d0")),o.a.createElement("p",{className:"store"},c?o.a.createElement(o.a.Fragment,null,o.a.createElement("strong",null,"[",c.name,"]")," ",c.address):"\uc8fc\ubb38\ud560 \ub9e4\uc7a5\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.",o.a.createElement(s.b,{to:"/store"},"\uc124\uc815")),o.a.createElement(u.c,null,o.a.createElement(x.a,{kind:"base",type:"submit"},"\uc8fc\ubb38\ud558\uae30")))))),o.a.createElement(u.b,null,o.a.createElement(u.e,null,"\uc704\uc2dc \ub9ac\uc2a4\ud2b8"),o.a.createElement(I,null,(r||f||y)&&o.a.createElement(k.a,null),le,o.a.createElement(g.a,{shown:V,onClickHandler:ce},M,o.a.createElement("br",null),o.a.createElement(x.a,{kind:"default",onClick:ce},"\ud655\uc778"))))})}}]);
//# sourceMappingURL=12.339f9557.chunk.js.map