(window["webpackJsonppreorder-coffee"]=window["webpackJsonppreorder-coffee"]||[]).push([[12],{141:function(e,n,a){"use strict";a.r(n);var t=a(26),c=a(11),l=a(0),o=a.n(l),r=a(30),s=a(15),i=a(7),d=a(10),m=a(25),u=a(19),p=a.n(u);function b(){var e=Object(c.a)(["\n  position: relative;\n  input {\n    position: absolute;\n    z-index: -1;\n  }\n  label {\n    padding-left: 25px;\n    &:before {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 14px;\n      height: 14px;\n      z-index: 1;\n      border: 2px solid #d9b391;\n    }\n    &.checked:after {\n      position: absolute;\n      top: 3px;\n      left: 3px;\n      content: '';\n      width: 9px;\n      height: 6px;\n      transform: rotate(-47deg);\n      border-left: 3px solid #8c6046;\n      border-bottom: 3px solid #8c6046;\n      z-index: 2;\n    }\n  }\n"]);return b=function(){return e},e}var f=d.b.fieldset(b());f.propTypes={id:p.a.string,label:p.a.string,legend:p.a.string,checked:p.a.bool,className:p.a.string,onClick:p.a.func};var h=o.a.memo(function(e){var n=e.id,a=e.label,t=e.checked,c=e.legend,l=e.className,r=e.onClick;return o.a.createElement(f,{className:l},o.a.createElement("legend",{className:"hidden"},c),o.a.createElement("input",{type:"checkbox",id:n,name:n,defaultChecked:t,onClick:r}),o.a.createElement("label",{htmlFor:n,className:t?"checked":""},a))}),k=a(59),x=a(41),E=a(42),g=a(43),O=a(46),j=a(27),N=a(33),v=a(47),y=a(9);function w(){var e=Object(c.a)(["\n  padding: 40px;\n  color: #666;\n  text-align: center;\n  font-size: 16px;\n"]);return w=function(){return e},e}function C(){var e=Object(c.a)(["\n  padding-bottom: 220px;\n  .allChk {\n    width: 100%;\n    padding-bottom: 10px;\n    border-bottom: 1px solid #260f07;\n  }\n  .payBox {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    padding: 20px;\n    background-color: #260f07;\n    z-index: 5;\n    .inn {\n      padding: 20px 10px;\n      background-color: #fff;\n      border-radius: 5px;\n      .sumBox {\n        margin-bottom: 20px;\n        padding: 0 10px 10px;\n        border-bottom: 1px solid #260f07;\n        font-size: 18px;\n        .sum {\n          color: #8c6046;\n          float: right;\n        }\n      }\n      .store {\n        text-align: center;\n        line-height: 1.5;\n        font-size: 14px;\n        a {\n          display: inline-block;\n          padding: 3px 5px;\n          margin: -5px 0 0 10px;\n          font-size: 14px;\n          vertical-align: middle;\n          border-radius: 3px;\n          background-color: #d9b391;\n          line-height: 1;\n        }\n      }\n      button {\n        margin-top: 20px;\n      }\n    }\n  }\n  .list {\n    > li {\n      position: relative;\n      padding: 15px;\n      &:nth-child(even) {\n        background-color: #ededed;\n      }\n      fieldset {\n        margin-bottom: 10px;\n      }\n      .options {\n        padding-left: 25px;\n        li {\n          margin: 10px 0;\n          font-size: 14px;\n          color: #8c6046;\n          .option {\n            float: left;\n          }\n          .extra {\n            float: right;\n          }\n        }\n      }\n      .total {\n        margin-top: 20px;\n        text-align: right;\n        color: #260f07;\n      }\n      .removeBtn {\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        color: #260f07;\n      }\n    }\n  }\n"]);return C=function(){return e},e}var z=d.b.div(C()),I=d.b.div(w()),W={updateWishList:N.j,checkedWish:N.e,removeWish:N.i,addOrderList:v.c,emptyLoading:y.b};n.default=Object(r.b)(function(e){var n=e.wish,a=e.auth,t=e.store,c=e.loadings;return{wish:n,auth:a,loadingWish:c[N.c],loadingRemoveWish:c[N.b],loadingAddOrder:c[v.a],selected:t.selected}},W)(function(e){var n=e.wish,a=e.auth,c=e.selected,r=e.loadingWish,d=e.addOrderList,u=e.updateWishList,p=e.checkedWish,b=e.removeWish,f=e.loadingRemoveWish,y=e.loadingAddOrder,w=e.emptyLoading,C=Object(l.useState)(0),W=Object(t.a)(C,2),S=W[0],T=W[1],B=Object(l.useState)(0),L=Object(t.a)(B,2),A=L[0],D=L[1],F=Object(l.useState)(!0),J=Object(t.a)(F,2),R=J[0],H=J[1],q=Object(l.useState)(""),G=Object(t.a)(q,2),K=G[0],M=G[1],P=Object(l.useState)(!0),Q=Object(t.a)(P,2),U=Q[0],V=Q[1],X=Object(l.useState)(!1),Y=Object(t.a)(X,2),Z=Y[0],$=Y[1];Object(l.useEffect)(function(){var e=0,a=0;n&&(Object.keys(n).forEach(function(t){!0===n[t].checked&&(e+=n[t].total,a+=1)}),H(Object.keys(n).every(function(e){return!0===n[e].checked}))),T(e),D(a)},[n]),Object(l.useEffect)(function(){!1===y&&(V(!1),$(!1),M("\uc8fc\ubb38 \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4."),Object.keys(n).forEach(function(e){!0===n[e].checked&&b({token:a.idToken,userId:a.localId,id:e})}))},[y]),Object(l.useEffect)(function(){Z&&!1===f&&(V(!1),M("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."))},[f,Z]),Object(l.useEffect)(function(){return function(){w(N.c),w(N.b),w(v.a)}},[]);var _=Object(l.useCallback)(function(){u({token:a.idToken,userId:a.localId,wish:Object(i.a)(n,function(e){Object.keys(e).forEach(function(n){e[n].checked=!R})})}),H(!R)},[n,R]),ee=Object(l.useCallback)(function(e,t){p({token:a.idToken,userId:a.localId,id:e,wish:Object(i.a)(n[e],function(e){e.checked=!t})})},[]),ne=Object(l.useCallback)(function(e){b({token:a.idToken,userId:a.localId,id:e}),$(!0)},[]),ae=Object(l.useCallback)(function(e){if(e.preventDefault(),c){if(n){var t=n[Object.keys(n)[0]];d({token:a.idToken,userId:a.localId,order:{contents:(""!==t.nickname?t.nickname:t.ko)+(A>1?" \uc678 ".concat(A-1,"\uc794"):" 1\uc794"),total:S,store:c,date:(new Date).getTime()}})}}else V(!1),M("\uc8fc\ubb38\ud558\uc2e4 \ub9e4\uc7a5\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")},[n,c,S,A]),te=Object(l.useCallback)(function(){M(""),V(!U)},[U]);return o.a.createElement(m.b,null,o.a.createElement(m.f,null,"\uc704\uc2dc \ub9ac\uc2a4\ud2b8"),o.a.createElement(z,null,n?o.a.createElement("form",{onSubmit:ae},o.a.createElement(h,{id:"allCheck",label:"\uc804\uccb4\uc74c\ub8cc",legend:"\uc704\uc2dc\ub9ac\uc2a4\ud2b8\uc5d0 \ubaa8\ub4e0\uc74c\ub8cc \uc8fc\ubb38\uc120\ud0dd",onClick:_,checked:R,className:"allChk"}),(r||f||y)&&o.a.createElement(k.a,null),o.a.createElement(E.a,{shown:U,onClickHandler:te},K,o.a.createElement("br",null),o.a.createElement(x.a,{kind:"default",onClick:te},"\ud655\uc778")),o.a.createElement("ol",{className:"list"},Object.keys(n).map(function(e){return o.a.createElement("li",{key:e},o.a.createElement(h,{id:e,label:""!==n[e].nickname?n[e].nickname:n[e].ko,legend:"".concat(n[e].ko," \uc120\ud0dd\ud558\uae30"),checked:n[e].checked,style:{background:n[e].checked?"red":""},onClick:function(){return ee(e,n[e].checked)}}),o.a.createElement("ul",{className:"options"},o.a.createElement("li",{className:"clear"},o.a.createElement("span",{className:"option"},j.v[n[e].type],"/",n[e].size,"/",j.a[n[e].cup]),o.a.createElement("span",{className:"extra"},Object(O.c)(n[e].price),"\uc6d0")),n[e].shot.count>0&&o.a.createElement("li",{className:"clear"},o.a.createElement("span",{className:"option"},"\uc5d0\uc2a4\ud504\ub808\uc18c"),o.a.createElement("span",{className:"extra"},Object(O.c)(n[e].shot.count*n[e].shot.extra),"\uc6d0")),n[e].syrup.mocha.count>0&&o.a.createElement("li",{className:"clear"},o.a.createElement("span",{className:"option"},"\ubaa8\uce74 \uc2dc\ub7fd"),o.a.createElement("span",{className:"extra"},Object(O.c)(n[e].syrup.mocha.count*n[e].syrup.mocha.extra),"\uc6d0")),n[e].syrup.hazelnut.count>0&&o.a.createElement("li",{className:"clear"},o.a.createElement("span",{className:"option"},"\ud5e4\uc774\uc990\ub11b \uc2dc\ub7fd"),o.a.createElement("span",{className:"extra"},Object(O.c)(n[e].syrup.hazelnut.count*n[e].syrup.hazelnut.extra),"\uc6d0")),n[e].syrup.caramel.count>0&&o.a.createElement("li",{className:"clear"},o.a.createElement("span",{className:"option"},"\uce74\ub77c\uba5c \uc2dc\ub7fd"),o.a.createElement("span",{className:"extra"},Object(O.c)(n[e].syrup.caramel.count*n[e].syrup.caramel.extra),"\uc6d0")),n[e].syrup.vanilla.count>0&&o.a.createElement("li",{className:"clear"},o.a.createElement("span",{className:"option"},"\ubc14\ub2d0\ub77c \uc2dc\ub7fd"),o.a.createElement("span",{className:"extra"},Object(O.c)(n[e].syrup.vanilla.count*n[e].syrup.vanilla.extra),"\uc6d0")),Object.keys(n[e].messages).map(function(a){return""!==n[e].messages[a]&&"cup shot size mocha hazelnut caramel vanilla".indexOf(a)<0&&o.a.createElement("li",{key:a,className:"clear"},o.a.createElement("span",{className:"option"},n[e].messages[a]),o.a.createElement("span",{className:"extra"},"0\uc6d0"))})),o.a.createElement("p",{className:"total"},Object(O.c)(n[e].total),"\uc6d0"),o.a.createElement(x.a,{kind:"blank",className:"removeBtn",onClick:function(){return ne(e)}},o.a.createElement(g.a,null)))})),o.a.createElement("div",{className:"payBox"},o.a.createElement("div",{className:"inn"},o.a.createElement("p",{className:"sumBox"},"\ucd1d ",A,"\uac1c",o.a.createElement("span",{className:"sum"},Object(O.c)(S),"\uc6d0")),o.a.createElement("p",{className:"store"},c?o.a.createElement(o.a.Fragment,null,o.a.createElement("strong",null,"[",c.name,"]")," ",c.address):"\uc8fc\ubb38\ud560 \ub9e4\uc7a5\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.",o.a.createElement(s.b,{to:"/store"},"\uc124\uc815")),o.a.createElement(m.c,null,o.a.createElement(x.a,{kind:"base",type:"submit"},"\uc8fc\ubb38\ud558\uae30"))))):o.a.createElement(I,null,"\uc8fc\ubb38\ud558\uc2e4 \uc74c\ub8cc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")))})}}]);
//# sourceMappingURL=12.fa8fd7b7.chunk.js.map